<!-- Custom style sheet link -->
<link rel="stylesheet" href="/a11y-annotations/assets/styles/custom.css">

<!-- sidebar-navigation.html -->
<nav id="sidebar-nav" class="sidebar">
    <a href="/index.html" class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
        <span class="fs-5 fw-semibold"><i class="bi bi-house-heart-fill" aria-hidden="true"></i> A11y Annotations</span>
    </a>
    <a href="/default/how-to-annotate.html" class="d-flex align-items-center pb-1 pl-1 mb-3 link-dark text-decoration-none">
        <span class="fs-6 fw-semibold">How to Annotate</span>
    </a>
    <a href="/default/auditor-checklist.html" class="d-flex align-items-center pb-1 pl-1 mb-3 link-dark text-decoration-none">
        <span class="fs-6 fw-semibold">Auditor Checklist</span>
    </a>
    <!-- <a href="/default/style-guide.html" class="d-flex align-items-center pb-1 pl-1 mb-3 link-dark text-decoration-none">
        <span class="fs-6 fw-semibold">Style Guide</span>
    </a> -->
    <ul class="list-unstyled ps-0">
        <!-- General Section -->
        <li class="mb-3">
            <button class="btn btn-toggle align-items-center rounded collapsed fs-4" data-bs-toggle="collapse"
                data-bs-target="#general-collapse" aria-expanded="false">
                General
            </button>
            <div class="collapse" id="general-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-2 small  ml-1r">
                    <!-- Nested Accessibility Criteria Sections -->
                    <!-- Structure Section -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#structure-collapse" aria-expanded="true" aria-controls="structure-collapse">
                            <span><i class="bi bi-hammer" aria-hidden="true"></i> Structure</span>
                        </button>
                        <div class="collapse show" id="structure-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/general/structure/page.html" class="link-dark rounded">Page</a></li>
                                <li><a href="/templates/general/structure/landmarks.html" class="link-dark rounded">Landmarks</a></li>
                                <li><a href="/templates/general/structure/headings.html" class="link-dark rounded">Headings</a></li>
                                <li><a href="/templates/general/structure/lists.html" class="link-dark rounded">Lists</a></li>
                                <li><a href="/templates/general/structure/tables.html" class="link-dark rounded">Tables</a></li>
                                <li><a href="/templates/general/structure/buttons.html" class="link-dark rounded">Buttons</a></li>
                                <li><a href="/templates/general/structure/links.html" class="link-dark rounded">Links</a></li>
                                <li><a href="/templates/general/structure/forms.html" class="link-dark rounded">Forms</a></li>
                            </ul>
                        </div>
                    </li>                               
                    <!-- Color Section -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#color-collapse" aria-expanded="true" aria-controls="color-collapse">
                            <span><i class="bi bi-eyedropper" aria-hidden="true"></i> Color</span>
                        </button>
                        <div class="collapse show" id="color-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/general/color/use-of-color.html" class="link-dark rounded">Use of Color</a></li>
                                <li><a href="/templates/general/color/text-contrast.html" class="link-dark rounded">Text Color Contrast</a></li>
                                <li><a href="/templates/general/color/non-text-contrast.html" class="link-dark rounded">Non-text Color Contrast</a></li>
                            </ul>
                        </div>
                    </li>
                    <!-- Non-text Content Section -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#images-collapse" aria-expanded="true" aria-controls="images-collapse">
                            <span><i class="bi bi-images" aria-hidden="true"></i> Non-text Content</span>
                        </button>
                        <div class="collapse show" id="images-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/general/non-text-content/images.html" class="link-dark rounded">Images</a></li>
                                <li><a href="/templates/general/non-text-content/images-of-text.html" class="link-dark rounded">Images of Text</a></li>
                                <li><a href="/templates/general/non-text-content/media.html" class="link-dark rounded">Time-based Media</a></li>
                                <li><a href="/templates/general/non-text-content/timing-adjustable.html" class="link-dark rounded">Timing Adjustable</a></li> 
                                <li><a href="/templates/general/non-text-content/pause-stop-hide.html" class="link-dark rounded">Pause, Stop, Hide</a></li>
                                <li><a href="/templates/general/non-text-content/three-flashes.html" class="link-dark rounded">Three Flashes or Below Threshold</a></li>  
                            </ul>
                        </div>
                    </li>
                    <!-- Interactives Section -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#interactives-collapse" aria-expanded="true" aria-controls="interactives-collapse">
                            <span><i class="bi bi-hand-index-thumb" aria-hidden="true"></i> Interactives</span>
                        </button>
                        <div class="collapse show" id="interactives-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/general/interactives/keyboard.html" class="link-dark rounded">Keyboard</a></li>
                                <li><a href="/templates/general/interactives/focus-visible.html" class="link-dark rounded">Focus Visible</a></li>
                                <li><a href="/templates/general/interactives/focus-order.html" class="link-dark rounded">Focus Order</a></li>
                            </ul>
                        </div>
                    </li>
                    <!-- Screen Magnification Section -->
                    <li class="mb-1">
                        <button class="text-left btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#screen-magnification-collapse" aria-expanded="true" aria-controls="screen-magnification-collapse">
                            <span><i class="bi bi-search-heart" aria-hidden="true"></i> Screen Magnification</span>
                        </button>
                        <div class="collapse show" id="screen-magnification-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">                                
                                <li><a href="/templates/general/screen-magnification/resize.html" class="link-dark rounded">Resize Text</a></li>
                                <li><a href="/templates/general/screen-magnification/reflow.html" class="link-dark rounded">Reflow</a></li> 
                                <li><a href="/templates/general/screen-magnification/text-spacing.html" class="link-dark rounded">Text Spacing</a></li>   
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </li>
        <li class="border-top my-3"></li>
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed fs-4 mb-1" data-bs-toggle="collapse"
                data-bs-target="#dashboard-collapse" aria-expanded="false">
                Components
            </button>
            <div class="collapse" id="dashboard-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small ml-1r">
                    <!-- Navigation and Wayfinding -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                                data-bs-target="#navigation-wayfinding-collapse" aria-expanded="false" 
                                aria-controls="navigation-wayfinding-collapse">
                            Wayfinding
                        </button>
                        <div class="collapse" id="navigation-wayfinding-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/components/wayfinding/navigation.html" class="link-dark rounded">Navigation</a></li>
                                <li><a href="/templates/components/wayfinding/breadcrumb.html" class="link-dark rounded">Breadcrumb</a></li>
                                <li><a href="/templates/components/wayfinding/pagination.html" class="link-dark rounded">Pagination</a></li>
                            </ul>
                        </div>
                    </li>
                    <!-- Basic Elements -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                                data-bs-target="#basic-elements-list" aria-expanded="false" 
                                aria-controls="basic-elements-list">
                            Basic Elements
                        </button>
                        <div class="collapse" id="basic-elements-list">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="/templates/components/basic/accordion.html" class="link-dark rounded">Accordion</a></li>
                                <li><a href="/templates/components/basic/alert.html" class="link-dark rounded">Alert</a></li>
                                <li><a href="#" class="link-dark rounded">Avatar</a></li>
                                <li><a href="#" class="link-dark rounded">Badge</a></li>
                                <li><a href="/templates/components/basic/buttons.html" class="link-dark rounded">Buttons</a></li>
                                <li><a href="#" class="link-dark rounded">Dropdowns</a></li>
                                <li><a href="#" class="link-dark rounded">Progress</a></li>
                                <li><a href="#" class="link-dark rounded">Media Objects</a></li>
                            </ul>
                        </div>
                    </li>
                    <!-- Forms -->
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                                data-bs-target="#forms-collapse" aria-expanded="false" 
                                aria-controls="forms-collapse">
                            Forms
                        </button>
                        <div class="collapse" id="forms-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="#" class="link-dark rounded">Form Groups</a></li>
                                <li><a href="#" class="link-dark rounded">File Inputs</a></li>
                                <li><a href="#" class="link-dark rounded">Login/Register Forms</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </li>
        <li class="border-top my-3"></li>
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#resources-collapse" aria-expanded="false" aria-controls="resources-collapse">
                Resources
            </button>
            <div class="collapse" id="resources-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                    <li><a href="/templates/resources/general-resources.html" class="link-dark rounded">General Accessibility</a></li>
                    <li><a href="/templates/resources/design-resources.html" class="link-dark rounded">Design</a></li>
                    <li><a href="/templates/resources/development-resources.html" class="link-dark rounded">Development and Testing</a></li>
                    <li><a href="#" class="link-dark rounded">Courses and Educational</a></li>
                    <li><a href="#" class="link-dark rounded">Government</a></li>
                    <li><a href="#" class="link-dark rounded">Misc</a></li>
                </ul>
            </div>
        </li>
    </ul>
</nav>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
// Sidebar Focus Management
$(document).ready(function() {
    // Get current URL path
    var currentPath = window.location.pathname;

    // Find the matching link in the sidebar and set focus
    $('.sidebar a').each(function() {
        var linkPath = $(this).attr('href');
        // Check if the link matches the current URL path
        if (currentPath.endsWith(linkPath)) {
            $(this).focus(); // Set focus on the matching link
            $(this).attr('aria-current', 'page'); // Set ARIA current attribute

            // Append an icon to indicate the current page
            $(this).append(' <i class="bi bi-caret-left-fill text-success" aria-hidden="true"></i>');

            // Ensure all parent collapsible elements are expanded
            $(this).parents('.collapse').each(function() {
                if (!$(this).hasClass('show')) {
                    $(this).collapse('show'); // Use Bootstrap's collapse method to show the element
                    // Update the 'aria-expanded' attribute of the associated toggle button
                    var targetId = $(this).attr('id');
                    $('button[data-bs-target="#' + targetId + '"]').attr('aria-expanded', 'true').removeClass('collapsed');
                }
            });

            return false; // Break the loop once the matching link is found
        }
    });
});
</script>

<!-- Comment out for local development and enable for production -->
<script>
    $(document).ready(function() {
        // Select all links in the sidebar navigation except for index.html
        $("#sidebar-nav a").each(function() {
            // Get the current href attribute
            var currentHref = $(this).attr("href");
            
            // Add "/a11y-annotations" to the beginning of the href attribute
            var newHref = "/a11y-annotations" + currentHref;
            
            // Update the href attribute with the new value
            $(this).attr("href", newHref);
        });
    });
    $(document).ready(function() {
        // Select all <img> tags on the page
        $('img').each(function() {
            // Get the current src attribute
            var currentSrc = $(this).attr('src');
            
            // Check if the src attribute starts with '/'
            if (currentSrc && currentSrc.charAt(0) === '/') {
            // Add '/a11y-annotations' to the beginning of the src attribute
            $(this).attr('src', '/a11y-annotations' + currentSrc);
            }
        });
    });
</script>

